import transformation_matrix as tf
import numpy as np

R_matrix = tf.create_R_matrix(tf.detect_markers('maps_process/ist_map.png'), tf.GPS_MARKERS)
# np.array([[-2.02335264e-04,  2.32154232e-01,  4.87789570e+05],
#                       [-2.32154232e-01, -2.02335264e-04,  4.28772144e+06],
#                       [ 0.00000000e+00,  0.00000000e+00,  1.00000000e+00]])

print(R_matrix)

points = [#[38.7377153594707, -9.140025145384882],
          [38.735612390345954,-9.138025216386986],
          [38.735631349807996,-9.138723252002077],
          [38.736747422021644,-9.138782702055112],
          [38.735859794283535, -9.139998631563584]
        #   [38.735731349807996,-9.137423252002077],
          #[38.737631349807996,-9.136723252002077],
          #[38.737631349807996,-9.139723252002077]
          ]

for point in points:
    print(tf.check_accuracy('dif_test.png', point, R_matrix))